var w=Object.create;var i=Object.defineProperty,_=Object.defineProperties,R=Object.getOwnPropertyDescriptor,S=Object.getOwnPropertyDescriptors,O=Object.getOwnPropertyNames,b=Object.getOwnPropertySymbols,D=Object.getPrototypeOf,x=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable;var y=(e,t,r)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,s=(e,t)=>{for(var r in t||(t={}))x.call(t,r)&&y(e,r,t[r]);if(b)for(var r of b(t))I.call(t,r)&&y(e,r,t[r]);return e},f=(e,t)=>_(e,S(t)),C=e=>i(e,"__esModule",{value:!0});var W=(e,t)=>{C(e);for(var r in t)i(e,r,{get:t[r],enumerable:!0})},j=(e,t,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of O(t))!x.call(e,o)&&o!=="default"&&i(e,o,{get:()=>t[o],enumerable:!(r=R(t,o))||r.enumerable});return e},g=e=>j(C(i(e!=null?w(D(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);W(exports,{getCurrentConfig:()=>c,wrapHandler:()=>P});var h=g(require("regexparam"));function E(e,t){let r=(0,h.default)(t),o=0,n={},l=r.pattern.exec(e)||[];for(;o<r.keys.length;)n[r.keys[o]]=l[++o];return n}function H(e){return typeof e=="object"?JSON.stringify(e):e}function v(e){let{isBase64Encoded:t=!1,statusCode:r=200,headers:o={},multiValueHeaders:n={},body:l="",html:T=void 0,json:d=void 0,xml:m=void 0}=typeof e=="string"?{body:e}:e,p="text/html; charset=utf-8";return d?p="application/json; charset=utf-8":m&&(p="application/xml; charset=utf-8"),{isBase64Encoded:t,statusCode:r,headers:s({"Content-Type":p},o),multiValueHeaders:n,body:H(l||T||d||m||"")}}function P(e){return async(t,r)=>(t=f(s({},t),{params:E(t.path,e.route)}),v(await e.handler(t,r)))}var A=g(require("path"));var M=g(require("kleur"));var a;(function(n){n.Debug="debug",n.Info="info",n.Warn="warn",n.Err="error"})(a||(a={}));var q={[a.Debug]:"magenta",[a.Info]:"blue",[a.Warn]:"yellow",[a.Err]:"red"};var u;(function(o){o.PRODUCTION="production",o.DEVELOPMENT="development",o.TEST="test"})(u||(u={}));var N={pid:process.pid,cwd:process.cwd(),env:u.TEST,debug:!1};function k(e){return global.__presta__=e,e}function c(){return global.__presta__||k(N),global.__presta__}0&&(module.exports={getCurrentConfig,wrapHandler});
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vbGliL2luZGV4LnRzIiwgIi4uL2xpYi9nZXRSb3V0ZVBhcmFtcy50cyIsICIuLi9saWIvbm9ybWFsaXplUmVzcG9uc2UudHMiLCAiLi4vbGliL3dyYXBIYW5kbGVyLnRzIiwgIi4uL2xpYi9jb25maWcudHMiLCAiLi4vbGliL2xvZy50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiLypcbiAqIEFueSB1c2VkIGV4cG9ydHMgb2YgdGhlIGNvcmUgbGlicmFyeSBnbyBoZXJlXG4gKi9cblxuZXhwb3J0IHsgd3JhcEhhbmRsZXIgfSBmcm9tICcuL3dyYXBIYW5kbGVyJ1xuZXhwb3J0IHsgZ2V0Q3VycmVudENvbmZpZyB9IGZyb20gJy4vY29uZmlnJ1xuIiwgImltcG9ydCB0b1JlZ0V4cCBmcm9tICdyZWdleHBhcmFtJ1xuXG5pbXBvcnQgeyBSb3V0ZVBhcmFtcyB9IGZyb20gJy4uJ1xuXG4vLyBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9sdWtlZWQvcmVnZXhwYXJhbSN1c2FnZVxuZXhwb3J0IGZ1bmN0aW9uIGdldFJvdXRlUGFyYW1zKHVybDogc3RyaW5nLCByb3V0ZTogc3RyaW5nKTogUm91dGVQYXJhbXMge1xuICBjb25zdCByZXN1bHQgPSB0b1JlZ0V4cChyb3V0ZSlcbiAgbGV0IGkgPSAwXG4gIGxldCBvdXQ6IFJvdXRlUGFyYW1zID0ge31cbiAgbGV0IG1hdGNoZXMgPSByZXN1bHQucGF0dGVybi5leGVjKHVybCkgfHwgW11cblxuICB3aGlsZSAoaSA8IHJlc3VsdC5rZXlzLmxlbmd0aCkge1xuICAgIG91dFtyZXN1bHQua2V5c1tpXV0gPSBtYXRjaGVzWysraV1cbiAgfVxuXG4gIHJldHVybiBvdXRcbn1cbiIsICJpbXBvcnQgeyBBV1MsIFJlc3BvbnNlIH0gZnJvbSAnLi4nXG5cbmZ1bmN0aW9uIHN0cmluZ2lmeShvYmo6IG9iamVjdCB8IHN0cmluZykge1xuICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgPyBKU09OLnN0cmluZ2lmeShvYmopIDogb2JqXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemVSZXNwb25zZShyZXNwb25zZTogUGFydGlhbDxSZXNwb25zZT4gfCBzdHJpbmcpOiBBV1NbJ0hhbmRsZXJSZXNwb25zZSddIHtcbiAgY29uc3Qge1xuICAgIGlzQmFzZTY0RW5jb2RlZCA9IGZhbHNlLFxuICAgIHN0YXR1c0NvZGUgPSAyMDAsXG4gICAgaGVhZGVycyA9IHt9LFxuICAgIG11bHRpVmFsdWVIZWFkZXJzID0ge30sXG4gICAgYm9keSA9ICcnLFxuICAgIGh0bWwgPSB1bmRlZmluZWQsXG4gICAganNvbiA9IHVuZGVmaW5lZCxcbiAgICB4bWwgPSB1bmRlZmluZWQsXG4gIH0gPSB0eXBlb2YgcmVzcG9uc2UgPT09ICdzdHJpbmcnXG4gICAgPyB7XG4gICAgICAgIGJvZHk6IHJlc3BvbnNlLFxuICAgICAgfVxuICAgIDogcmVzcG9uc2VcblxuICBsZXQgY29udGVudFR5cGUgPSAndGV4dC9odG1sOyBjaGFyc2V0PXV0Zi04J1xuXG4gIGlmICghIWpzb24pIHtcbiAgICBjb250ZW50VHlwZSA9ICdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04J1xuICB9IGVsc2UgaWYgKCEheG1sKSB7XG4gICAgY29udGVudFR5cGUgPSAnYXBwbGljYXRpb24veG1sOyBjaGFyc2V0PXV0Zi04J1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBpc0Jhc2U2NEVuY29kZWQsXG4gICAgc3RhdHVzQ29kZSxcbiAgICBoZWFkZXJzOiB7XG4gICAgICAnQ29udGVudC1UeXBlJzogY29udGVudFR5cGUsXG4gICAgICAuLi5oZWFkZXJzLFxuICAgIH0sXG4gICAgbXVsdGlWYWx1ZUhlYWRlcnMsXG4gICAgYm9keTogc3RyaW5naWZ5KGJvZHkgfHwgaHRtbCB8fCBqc29uIHx8IHhtbCB8fCAnJyksXG4gIH1cbn1cbiIsICIvKipcbiAqIFRISVMgSVMgUFJPRCBDT0RFLCBCRSBDQVJFRlVMIFdIQVQgWU9VIEFERCBUTyBUSElTIEZJTEVcbiAqL1xuXG5pbXBvcnQgeyBnZXRSb3V0ZVBhcmFtcyB9IGZyb20gJy4vZ2V0Um91dGVQYXJhbXMnXG5pbXBvcnQgeyBub3JtYWxpemVSZXNwb25zZSB9IGZyb20gJy4vbm9ybWFsaXplUmVzcG9uc2UnXG5cbmltcG9ydCB0eXBlIHsgQVdTLCBFdmVudCwgQ29udGV4dCwgTGFtYmRhIH0gZnJvbSAnLi4nXG5cbmV4cG9ydCBmdW5jdGlvbiB3cmFwSGFuZGxlcihcbiAgZmlsZTogTGFtYmRhXG4pOiAoZXZlbnQ6IEFXU1snSGFuZGxlckV2ZW50J10sIGNvbnRleHQ6IENvbnRleHQpID0+IFByb21pc2U8QVdTWydIYW5kbGVyUmVzcG9uc2UnXT4ge1xuICByZXR1cm4gYXN5bmMgKGV2ZW50OiBBV1NbJ0hhbmRsZXJFdmVudCddLCBjb250ZXh0OiBDb250ZXh0KSA9PiB7XG4gICAgZXZlbnQgPSB7XG4gICAgICAuLi5ldmVudCxcbiAgICAgIHBhcmFtczogZ2V0Um91dGVQYXJhbXMoZXZlbnQucGF0aCwgZmlsZS5yb3V0ZSksXG4gICAgfSBhcyBFdmVudFxuXG4gICAgY29uc3QgcmVzcG9uc2UgPSBub3JtYWxpemVSZXNwb25zZShhd2FpdCBmaWxlLmhhbmRsZXIoZXZlbnQgYXMgRXZlbnQsIGNvbnRleHQpKVxuXG4gICAgcmV0dXJuIHJlc3BvbnNlXG4gIH1cbn1cbiIsICJpbXBvcnQgcGF0aCBmcm9tICdwYXRoJ1xuXG5pbXBvcnQgKiBhcyBsb2dnZXIgZnJvbSAnLi9sb2cnXG5pbXBvcnQgeyBjcmVhdGVFbWl0dGVyIH0gZnJvbSAnLi9jcmVhdGVFbWl0dGVyJ1xuXG5pbXBvcnQgdHlwZSB7IFByZXN0YSwgQ29uZmlnLCBDTEkgfSBmcm9tICcuLidcblxuY29uc3QgZGVmYXVsdENvbmZpZ0ZpbGVwYXRoID0gJ3ByZXN0YS5jb25maWcuanMnXG5cbmV4cG9ydCBlbnVtIEVudiB7XG4gIFBST0RVQ1RJT04gPSAncHJvZHVjdGlvbicsXG4gIERFVkVMT1BNRU5UID0gJ2RldmVsb3BtZW50JyxcbiAgVEVTVCA9ICd0ZXN0Jyxcbn1cblxuY29uc3QgZGVmYXVsdENvbmZpZyA9IHtcbiAgcGlkOiBwcm9jZXNzLnBpZCxcbiAgY3dkOiBwcm9jZXNzLmN3ZCgpLFxuICBlbnY6IEVudi5URVNULFxuICBkZWJ1ZzogZmFsc2UsXG59IGFzIFByZXN0YVxuXG5mdW5jdGlvbiBzZXRDdXJyZW50Q29uZmlnKGNvbmZpZzogUHJlc3RhKTogUHJlc3RhIHtcbiAgLy8gQHRzLWlnbm9yZVxuICBnbG9iYWwuX19wcmVzdGFfXyA9IGNvbmZpZ1xuICByZXR1cm4gY29uZmlnXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDdXJyZW50Q29uZmlnKCk6IFByZXN0YSB7XG4gIC8vIEB0cy1pZ25vcmVcbiAgaWYgKCFnbG9iYWwuX19wcmVzdGFfXykge1xuICAgIHNldEN1cnJlbnRDb25maWcoZGVmYXVsdENvbmZpZylcbiAgfVxuXG4gIC8vIEB0cy1pZ25vcmVcbiAgcmV0dXJuIGdsb2JhbC5fX3ByZXN0YV9fXG59XG5cbmZ1bmN0aW9uIHJlc29sdmVBYnNvbHV0ZVBhdGhzKGNvbmZpZzogQ29uZmlnLCB7IGN3ZCB9OiB7IGN3ZDogc3RyaW5nIH0pIHtcbiAgaWYgKGNvbmZpZy5maWxlcykgY29uZmlnLmZpbGVzID0gKFtdIGFzIHN0cmluZ1tdKS5jb25jYXQoY29uZmlnLmZpbGVzKS5tYXAoKHApID0+IHBhdGgucmVzb2x2ZShjd2QsIHApKVxuICBpZiAoY29uZmlnLm91dHB1dCkgY29uZmlnLm91dHB1dCA9IHBhdGgucmVzb2x2ZShjd2QsIGNvbmZpZy5vdXRwdXQpXG4gIGlmIChjb25maWcuYXNzZXRzKSBjb25maWcuYXNzZXRzID0gcGF0aC5yZXNvbHZlKGN3ZCwgY29uZmlnLmFzc2V0cylcbiAgcmV0dXJuIGNvbmZpZ1xufVxuXG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBfY2xlYXJDdXJyZW50Q29uZmlnKCkge1xuICAvLyBAdHMtaWdub3JlXG4gIGdsb2JhbC5fX3ByZXN0YV9fID0ge1xuICAgIHBpZDogcHJvY2Vzcy5waWQsXG4gICAgY3dkOiBwcm9jZXNzLmN3ZCgpLFxuICAgIGVudjogRW52LlRFU1QsXG4gIH1cbn1cblxuLyoqXG4gKiBGZXRjaCBhIGNvbmZpZyBmaWxlLiBJZiBvbmUgd2FzIHNwZWNpZmllZCBieSB0aGUgdXNlciwgbGV0IHRoZW0ga25vdyBpZlxuICogYW55dGhpbmcgZ29lcyB3cm9uZy4gT3V0c2lkZSB3YXRjaCBtb2RlLCB0aGlzIHNob3VsZCBleGl0KDEpIGlmIHRoZSB1c2VyXG4gKiBwcm92aWRlZCBhIGNvbmZpZyBhbmQgdGhlcmUgd2FzIGFuIGVycm9yXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb25maWdGaWxlKGZpbGVwYXRoOiBzdHJpbmcsIHNob3VsZEV4aXQ6IGJvb2xlYW4gPSBmYWxzZSkge1xuICB0cnkge1xuICAgIHJldHVybiByZXF1aXJlKHBhdGgucmVzb2x2ZShmaWxlcGF0aCB8fCBkZWZhdWx0Q29uZmlnRmlsZXBhdGgpKVxuICB9IGNhdGNoIChlKSB7XG4gICAgbG9nZ2VyLmVycm9yKHtcbiAgICAgIGxhYmVsOiAnZXJyb3InLFxuICAgICAgZXJyb3I6IGUsXG4gICAgfSlcblxuICAgIC8vIHdlJ3JlIG5vdCBpbiB3YXRjaCBtb2RlLCBleGl0XG4gICAgaWYgKHNob3VsZEV4aXQpIHByb2Nlc3MuZXhpdCgxKVxuXG4gICAgcmV0dXJuIHt9XG4gIH1cbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IGluc3RhbmNlIF93aXRob3V0XyBhbnkgdmFsdWVzIHByb3ZpZGVkIGJ5IHRoZSBjb25maWcgZmlsZS5cbiAqIFRoaXMgaXMgdXNlZCB3aGVuIHRoZSB1c2VyIGRlbGV0ZXMgdGhlaXIgY29uZmlnIGZpbGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVDb25maWdWYWx1ZXMoKSB7XG4gIGxvZ2dlci5kZWJ1Zyh7XG4gICAgbGFiZWw6ICdkZWJ1ZycsXG4gICAgbWVzc2FnZTogYGNvbmZpZyBmaWxlIHZhbHVlcyBjbGVhcmVkYCxcbiAgfSlcblxuICByZXR1cm4gc2V0Q3VycmVudENvbmZpZyhcbiAgICBjcmVhdGVDb25maWcoe1xuICAgICAgLi4uZ2V0Q3VycmVudENvbmZpZygpLFxuICAgICAgY29uZmlnOiB7fSxcbiAgICB9KVxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDb25maWcoe1xuICBjd2QgPSBwcm9jZXNzLmN3ZCgpLFxuICBlbnYgPSBnZXRDdXJyZW50Q29uZmlnKCkuZW52LFxuICBjb25maWcgPSB7fSxcbiAgY2xpID0ge30sXG59OiB7XG4gIGN3ZD86IHN0cmluZ1xuICBlbnY/OiBFbnZcbiAgY29uZmlnPzogUGFydGlhbDxDb25maWc+XG4gIGNsaT86IFBhcnRpYWw8Q0xJPlxufSkge1xuICBjb25maWcgPSByZXNvbHZlQWJzb2x1dGVQYXRocyh7IC4uLmNvbmZpZyB9LCB7IGN3ZCB9KSAvLyBjbG9uZSByZWFkLW9ubHkgb2JqXG4gIGNsaSA9IHJlc29sdmVBYnNvbHV0ZVBhdGhzKHsgLi4uY2xpIH0sIHsgY3dkIH0pXG5cbiAgLy8gY29tYmluZWQgY29uZmlnLCBwcmVmZXJlbmNlIHRvIENMSSBhcmdzXG4gIGNvbnN0IG1lcmdlZCA9IHtcbiAgICBvdXRwdXQ6IHBhdGgucmVzb2x2ZShjd2QsIGNsaS5vdXRwdXQgfHwgY29uZmlnLm91dHB1dCB8fCAnYnVpbGQnKSxcbiAgICBhc3NldHM6IHBhdGgucmVzb2x2ZShjbGkuYXNzZXRzIHx8IGNvbmZpZy5hc3NldHMgfHwgJ3B1YmxpYycpLFxuICAgIGZpbGVzOiBjbGkuZmlsZXMgJiYgY2xpLmZpbGVzLmxlbmd0aCA/IGNsaS5maWxlcyA6IGNvbmZpZy5maWxlcyA/IChbXSBhcyBzdHJpbmdbXSkuY29uY2F0KGNvbmZpZy5maWxlcykgOiBbXSxcbiAgfVxuXG4gIC8vIHNldCBpbnN0YW5jZVxuICBjb25zdCBjdXJyZW50ID0gc2V0Q3VycmVudENvbmZpZyh7XG4gICAgLi4uZ2V0Q3VycmVudENvbmZpZygpLFxuICAgIC4uLm1lcmdlZCwgLy8gb3ZlcndyaXRlcyBldmVyeSB0aW1lXG4gICAgZW52LFxuICAgIGRlYnVnOiBjbGkuZGVidWcgfHwgZ2V0Q3VycmVudENvbmZpZygpLmRlYnVnLFxuICAgIGN3ZDogY3dkIHx8IHByb2Nlc3MuY3dkKCksXG4gICAgY29uZmlnRmlsZXBhdGg6IHBhdGgucmVzb2x2ZShjbGkuY29uZmlnIHx8IGRlZmF1bHRDb25maWdGaWxlcGF0aCksXG4gICAgZnVuY3Rpb25zT3V0cHV0RGlyOiBwYXRoLmpvaW4obWVyZ2VkLm91dHB1dCwgJ2Z1bmN0aW9ucycpLFxuICAgIHN0YXRpY091dHB1dERpcjogcGF0aC5qb2luKG1lcmdlZC5vdXRwdXQsICdzdGF0aWMnKSxcbiAgICByb3V0ZXNNYW5pZmVzdDogcGF0aC5qb2luKG1lcmdlZC5vdXRwdXQsICdyb3V0ZXMuanNvbicpLFxuICAgIGV2ZW50czogY3JlYXRlRW1pdHRlcigpLFxuICB9KVxuXG4gIGlmIChjb25maWcucGx1Z2lucykge1xuICAgIGNvbmZpZy5wbHVnaW5zLm1hcCgocCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcCgpXG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGxvZ2dlci5lcnJvcih7XG4gICAgICAgICAgbGFiZWw6ICdlcnJvcicsXG4gICAgICAgICAgZXJyb3I6IGUsXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIGxvZ2dlci5kZWJ1Zyh7XG4gICAgbGFiZWw6ICdkZWJ1ZycsXG4gICAgbWVzc2FnZTogYGNvbmZpZyBjcmVhdGVkICR7SlNPTi5zdHJpbmdpZnkoY3VycmVudCl9YCxcbiAgfSlcblxuICByZXR1cm4gY3VycmVudFxufVxuIiwgImltcG9ydCBjLCB7IEtsZXVyIH0gZnJvbSAna2xldXInXG5cbmltcG9ydCB7IGdldEN1cnJlbnRDb25maWcsIEVudiB9IGZyb20gJy4vY29uZmlnJ1xuXG5leHBvcnQgZW51bSBMZXZlbHMge1xuICBEZWJ1ZyA9ICdkZWJ1ZycsXG4gIEluZm8gPSAnaW5mbycsXG4gIFdhcm4gPSAnd2FybicsXG4gIEVyciA9ICdlcnJvcicsXG59XG5cbmV4cG9ydCB0eXBlIE1lc3NhZ2UgPSB7XG4gIGxldmVsPzogTGV2ZWxzXG4gIGxhYmVsOiBzdHJpbmcgfCBudW1iZXJcbiAgbWVzc2FnZT86IHN0cmluZ1xuICBkdXJhdGlvbj86IHN0cmluZyB8IG51bWJlclxuICBlcnJvcj86IEVycm9yXG59XG5cbmxldCBsb2dzOiBhbnlbXSA9IFtdXG5cbmNvbnN0IGNvbG9ycyA9IHtcbiAgW0xldmVscy5EZWJ1Z106ICdtYWdlbnRhJyxcbiAgW0xldmVscy5JbmZvXTogJ2JsdWUnLFxuICBbTGV2ZWxzLldhcm5dOiAneWVsbG93JyxcbiAgW0xldmVscy5FcnJdOiAncmVkJyxcbn1cblxuZXhwb3J0IHsgYyBhcyBjb2xvcnMgfVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TG9ncygpIHtcbiAgaWYgKGdldEN1cnJlbnRDb25maWcoKS5lbnYgIT09IEVudi5URVNUKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdJbnRlcm5hbCBtZXRob2Qgd2FzIGNhbGxlZCBvdXRzaWRlIHRlc3QgbW9kZScpXG4gIH1cblxuICByZXR1cm4gbG9nc1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9nZ2VyKG1lc3NhZ2U6IE1lc3NhZ2UpIHtcbiAgaWYgKHByb2Nlc3MuZW52LlRFU1RJTkcpIHtcbiAgICBsb2dzLnB1c2gobWVzc2FnZSlcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBkZWJ1ZyA9IGdldEN1cnJlbnRDb25maWcoKS5kZWJ1Z1xuICAgIGNvbnN0IGNvbnRleHQgPSBnZXRDdXJyZW50Q29uZmlnKCkuZW52ID09PSBFbnYuUFJPRFVDVElPTiA/ICdwcm9kJyA6ICdkZXYnXG5cbiAgICBpZiAoIWRlYnVnICYmIG1lc3NhZ2UubGV2ZWwgPT09IExldmVscy5EZWJ1ZykgcmV0dXJuXG5cbiAgICBjb25zb2xlLmxvZyhcbiAgICAgIFtcbiAgICAgICAgYy5ncmF5KGNvbnRleHQpLFxuICAgICAgICBjW2NvbG9yc1ttZXNzYWdlLmxldmVsIHx8ICdpbmZvJ10gYXMga2V5b2YgS2xldXJdKG1lc3NhZ2UubGFiZWwpLFxuICAgICAgICBtZXNzYWdlLm1lc3NhZ2UsXG4gICAgICAgIG1lc3NhZ2UuZHVyYXRpb24gPyBjLmdyYXkoJysnICsgbWVzc2FnZS5kdXJhdGlvbikgOiAnJyxcbiAgICAgICAgbWVzc2FnZS5lcnJvciA/IGBcXG5cXG4ke21lc3NhZ2UuZXJyb3Iuc3RhY2sgfHwgbWVzc2FnZS5lcnJvcn1cXG5cXG5gIDogJycsXG4gICAgICBdXG4gICAgICAgIC5maWx0ZXIoQm9vbGVhbilcbiAgICAgICAgLmpvaW4oJyAnKVxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVidWcobWVzc2FnZTogTWVzc2FnZSkge1xuICBsb2dnZXIoeyBsZXZlbDogTGV2ZWxzLkRlYnVnLCAuLi5tZXNzYWdlIH0pXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbmZvKG1lc3NhZ2U6IE1lc3NhZ2UpIHtcbiAgbG9nZ2VyKHsgbGV2ZWw6IExldmVscy5JbmZvLCAuLi5tZXNzYWdlIH0pXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB3YXJuKG1lc3NhZ2U6IE1lc3NhZ2UpIHtcbiAgbG9nZ2VyKHsgbGV2ZWw6IExldmVscy5XYXJuLCAuLi5tZXNzYWdlIH0pXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlcnJvcihtZXNzYWdlOiBNZXNzYWdlKSB7XG4gIGxvZ2dlcih7IGxldmVsOiBMZXZlbHMuRXJyLCAuLi5tZXNzYWdlIH0pXG59XG5cbmV4cG9ydCBmdW5jdGlvbiByYXcoLi4uYXJnczogYW55W10pIHtcbiAgaWYgKGdldEN1cnJlbnRDb25maWcoKS5lbnYgPT09IEVudi5URVNUKSB7XG4gICAgbG9ncy5wdXNoKGFyZ3MpXG4gIH0gZWxzZSB7XG4gICAgY29uc29sZS5sb2coLi4uYXJncylcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbmV3bGluZSgpIHtcbiAgaWYgKGdldEN1cnJlbnRDb25maWcoKS5lbnYgPT09IEVudi5URVNUKSByZXR1cm5cbiAgY29uc29sZS5sb2coJycpXG59XG4iXSwKICAibWFwcGluZ3MiOiAiczZCQUFBLHNEQ0FBLE1BQXFCLHlCQUtkLFdBQXdCLEVBQWEsRUFBNEIsQ0FDdEUsR0FBTSxHQUFTLGNBQVMsR0FDcEIsRUFBSSxFQUNKLEVBQW1CLEdBQ25CLEVBQVUsRUFBTyxRQUFRLEtBQUssSUFBUSxHQUUxQyxLQUFPLEVBQUksRUFBTyxLQUFLLFFBQ3JCLEVBQUksRUFBTyxLQUFLLElBQU0sRUFBUSxFQUFFLEdBR2xDLE1BQU8sR0NiVCxXQUFtQixFQUFzQixDQUN2QyxNQUFPLE9BQU8sSUFBUSxTQUFXLEtBQUssVUFBVSxHQUFPLEVBR2xELFdBQTJCLEVBQThELENBQzlGLEdBQU0sQ0FDSixrQkFBa0IsR0FDbEIsYUFBYSxJQUNiLFVBQVUsR0FDVixvQkFBb0IsR0FDcEIsT0FBTyxHQUNQLE9BQU8sT0FDUCxPQUFPLE9BQ1AsTUFBTSxRQUNKLE1BQU8sSUFBYSxTQUNwQixDQUNFLEtBQU0sR0FFUixFQUVBLEVBQWMsMkJBRWxCLE1BQU0sR0FDSixFQUFjLGtDQUNILEdBQ1gsR0FBYyxrQ0FHVCxDQUNMLGtCQUNBLGFBQ0EsUUFBUyxHQUNQLGVBQWdCLEdBQ2IsR0FFTCxvQkFDQSxLQUFNLEVBQVUsR0FBUSxHQUFRLEdBQVEsR0FBTyxLQzdCNUMsV0FDTCxFQUNtRixDQUNuRixNQUFPLE9BQU8sRUFBNEIsSUFDeEMsR0FBUSxPQUNILEdBREcsQ0FFTixPQUFRLEVBQWUsRUFBTSxLQUFNLEVBQUssU0FHekIsRUFBa0IsS0FBTSxHQUFLLFFBQVEsRUFBZ0IsS0NsQjFFLE1BQWlCLG1CQ0FqQixNQUF5QixvQkFJbEIsR0FBSyxHQUFMLFVBQUssRUFBTCxDQUNMLFFBQVEsUUFDUixPQUFPLE9BQ1AsT0FBTyxPQUNQLE1BQU0sVUFKSSxXQWlCWixHQUFNLEdBQVMsRUFDWixFQUFPLE9BQVEsV0FDZixFQUFPLE1BQU8sUUFDZCxFQUFPLE1BQU8sVUFDZCxFQUFPLEtBQU0sT0RoQlQsR0FBSyxHQUFMLFVBQUssRUFBTCxDQUNMLGFBQWEsYUFDYixjQUFjLGNBQ2QsT0FBTyxTQUhHLFdBTVosR0FBTSxHQUFnQixDQUNwQixJQUFLLFFBQVEsSUFDYixJQUFLLFFBQVEsTUFDYixJQUFLLEVBQUksS0FDVCxNQUFPLElBR1QsV0FBMEIsRUFBd0IsQ0FFaEQsY0FBTyxXQUFhLEVBQ2IsRUFHRixZQUFvQyxDQUV6QyxNQUFLLFFBQU8sWUFDVixFQUFpQixHQUlaLE9BQU8iLAogICJuYW1lcyI6IFtdCn0K
